<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Classes  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Classes  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">SDEDownloadManager Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/seedante/SDEDownloadManager/"><img src="img/gh.png"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://https%3A%2F%2Fseedante%2Egithub%2Eio%2FSDEDownloadManager%2Fdocsets%2FSDEDownloadManager%2Exml"><img src="img/dash.png"/>Install in Dash</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">SDEDownloadManager Reference</a>
        <img id="carat" src="img/carat.png" />
        Classes  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/DownloadListController.html">DownloadListController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DownloadTrackerCell.html">DownloadTrackerCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SDEDownloadManager.html">SDEDownloadManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SDETableViewController.html">SDETableViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SliderAlertController.html">SliderAlertController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/URLPickerController.html">URLPickerController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/AccessoryButtonStyle.html">AccessoryButtonStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/BarButtonAppearanceStyle.html">BarButtonAppearanceStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/CellImageViewStyle.html">CellImageViewStyle</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ComparisonOrder.html">ComparisonOrder</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ComparisonType.html">ComparisonType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DeleteMode.html">DeleteMode</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DownloadState.html">DownloadState</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ListContent.html">ListContent</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/NavigationBarAction.html">NavigationBarAction</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ThumbnailShape.html">ThumbnailShape</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ToolBarAction.html">ToolBarAction</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/URLSessionTask.html">URLSessionTask</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AccessoryButtonDelegate.html">AccessoryButtonDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/DownloadActivityTrackable.html">DownloadActivityTrackable</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Classes</h1>
            <p>The following classes are available globally.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@SDEDownloadManager@objc(cs)SDEDownloadManager"></a>
                    <a name="//apple_ref/swift/Class/SDEDownloadManager" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@SDEDownloadManager@objc(cs)SDEDownloadManager">SDEDownloadManager</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>SDEDownloadManager</code> is a download management tool, support background download.</p>

<p>If you want to build interface to display and manage download tasks, or track download activity,
<code><a href="Classes/DownloadListController.html">DownloadListController</a></code> is a good choice, which is a UITableViewController subclass to coordinate
with <code>SDEDownloadManager</code> and has rich options to reduce a lot of work for you.</p>

<p>Features:</p>

<ul>
<li>Basic download management: download/pause/stop/resume/restart/delete</li>
</ul>

<p>All actions for the download task in <code>SDEDownloadManager</code> are basis on its download URL string.
  <code>SDEDownloadManager</code> doesn&rsquo;t support reduplicative task, but it doesn&rsquo;t disable it totally:
  URL(string: URLString) and URL(string: URLString.uppercased()) request the same file.</p>

<ul>
<li>As a data source for UITableView/UICollectionView</li>
</ul>

<p><code>SDEDownloadManager</code> maintains a download list(<code>[[String]]</code>), so it could manage download task
  based on its location(<code>IndexPath</code>) also.</p>

<ul>
<li>Sort download list</li>
</ul>

<p>Use <code>sortListBy(type:order:)</code> to change the order of download list. It supports to switch between
  five types: <code>manual</code>, <code>addTime</code>, <code>fileName</code>, <code>fileSize</code> and <code>fileType</code>. I classify these sort types
  as two modes: manual mode and predefined mode(latter four types).You could choose its sort mode
  when create a download manager in <code>manager(identifier:manualMode:)</code>.</p>

<p>Specially, in manual mode, a section in <code>downloadList</code> must has a title, and it will lose all section
  titles when switching from manual mode to predefined mode. And all tasks will be integrated into a 
  single section with a placeholder title when switching from predefined mode to manual mode.</p>

<p>In manual mode, reorder tasks by <code>moveTask(at:to:)</code> and <code>moveTasks(inSection:to)</code>.</p>

<p><code>sortListBy(type:order:)</code> is limited by file meta info and just use four predefined sort types,
  <code>sortListBy(order:taskTrait:traitAscending:taskAscending:)</code> free you to custom sort function.</p>

<ul>
<li>Control download count</li>
</ul>

<p>Adjust <code>maxDownloadCount</code> to control the maximum count of tasks which download at the same time.
  Don&rsquo;t worry, it&rsquo;s good as you think.</p>

<ul>
<li>Track download activity: download progress and speed</li>
</ul>

<p>Download activity info is provided in <code>downloadActivityHandler</code>, you could use the closure to update
  view. Call <code>beginTrackingDownloadActivity()</code> to track download activity, it executes
  <code>downloadActivityHandler</code> every second in the background until there is no more download or
  call <code>stopTrackingDownloadActivity()</code> to stop it.</p>

<ul>
<li>Data persistence</li>
</ul>

<p>When you need, call <code>saveData()</code>. <code>SDEDownloadManager</code> use property list serialization to save data,
  so when you add custom meta info for task by <code>fetchMetaInfoHandler</code>, it must be property list object.
  It has enough load and save performance for usual scenes which has almost under 10000 records. You&rsquo;d
  better test it in your scene. If load performance is not good in your scene, I suggest that you create
  download manager in advance to leave time to load data.</p>

<ul>
<li>Cache thumbnails for files</li>
</ul>

<p>Request thumbnail by <code>requestThumbnail(forTask:targetHeight:orLaterProvidedInHandler:)</code>. Generally,
  only image and video should have thumbnail, but there are some scenes where you want to associate a
  image with the file, e.g., an album art for the song, a poster for the movie. You can custom thumbnail
  for any file(except for image) by <code>setCustomThumbnail(_:forTask:cacheInMemoryOnly:)</code>.</p>

<ul>
<li>Authentication</li>
</ul>

<p><code>SDEDownloadManager</code> handle part authentication types for you: Basic, Digest, and server trust. For 
  other authentication types, you could handle them by <code>sessionDidReceiveChallengeHandler</code> and
  <code>taskDidReceiveChallengeHandler</code>.</p>

<ul>
<li>Custom Other Behaviors in Session Delegate</li>
</ul>

<p><code>SDEDownloadManager</code> use <code>NSURLSessionDownloadTask</code> to download files, and session delegate is internal,
   I leave closure interfaces to custom behaviors in session delegate. See MARK: Closures to Custom 
   Behaviors in Session Delegate.</p>

<ul>
<li>Trash</li>
</ul>

<p>Enable this feature by <code>isTrashOpened</code>. If true, task to delete will be moved to the trash first; if
  false, task is deleted directly.</p>

<ul>
<li>Handle app force quit in downloading and you don&rsquo;t have to do anything.</li>
</ul>

                        <a href="Classes/SDEDownloadManager.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">@objcMembers</span> <span class="n">open</span> <span class="kd">class</span> <span class="kt">SDEDownloadManager</span><span class="p">:</span> <span class="kt">NSObject</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@SDEDownloadManager@objc(cs)URLPickerController"></a>
                    <a name="//apple_ref/swift/Class/URLPickerController" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@SDEDownloadManager@objc(cs)URLPickerController">URLPickerController</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>URLPickerController</code> is just a UITableViewController subclass which allows multiple selection and execute
a closure with selected strings. If string is not a valid URL, it won&rsquo;t be displayed in the list.</p>

<p>Sometimes URL link is too long to display completedly in the cell, there are some options to improve it:</p>

<ol>
<li><code>adjustsCellFontSizeToFitWidth</code>: The simplest way.</li>
<li><code>isFileNamePriorThanURL</code>: Only file name is enough sometimes.</li>
<li><code>shouldDisplayTinyURLAtCellTop</code>: File name loose its location info, fix it by a not very conspicuous way.</li>
</ol>

                        <a href="Classes/URLPickerController.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">@objcMembers</span> <span class="n">open</span> <span class="kd">class</span> <span class="kt">URLPickerController</span><span class="p">:</span> <span class="kt"><a href="Classes/SDETableViewController.html">SDETableViewController</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@SDEDownloadManager@objc(cs)SDETableViewController"></a>
                    <a name="//apple_ref/swift/Class/SDETableViewController" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@SDEDownloadManager@objc(cs)SDETableViewController">SDETableViewController</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A UITableViewController subclass which could enter multiple selection mode by editButtonItem. 
<code><a href="Classes/DownloadListController.html">DownloadListController</a></code> is its subclass.</p>

                        <a href="Classes/SDETableViewController.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n">open</span> <span class="kd">class</span> <span class="kt">SDETableViewController</span><span class="p">:</span> <span class="kt">UITableViewController</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@SDEDownloadManager@objc(cs)DownloadTrackerCell"></a>
                    <a name="//apple_ref/swift/Class/DownloadTrackerCell" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@SDEDownloadManager@objc(cs)DownloadTrackerCell">DownloadTrackerCell</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>DownloadTrackerCell</code> is the default UITableViewCell used in <code><a href="Classes/DownloadListController.html">DownloadListController</a></code>. Its style is 
<code>.subtitle</code>. 
 <img src="https://raw.githubusercontent.com/seedante/iOS-Note/master/SDEDownloadManager/CellTypeA.png" alt=""></p>

<p>It adds three subviews:</p>

<ol>
<li>a UILabel to display download speed;</li>
<li>a UIProgressView to display download progress;</li>
<li>a UIButton to pause/resume download.</li>
</ol>

<p>These three views are customizable in <code><a href="Classes/DownloadListController.html">DownloadListController</a></code>:</p>

<ol>
<li><code>allowsTrackingSpeed</code>: determine whether to display speed.</li>
<li><code>allowsTrackingProgress</code>: determine whether to display download progress bar.</li>
<li><code>cellAccessoryButtonStyle</code>: custom button appearance and action method.</li>
</ol>

<p>For any type UITableViewCell in <code><a href="Classes/DownloadListController.html">DownloadListController</a></code>, their <code>imageView</code> and <code>textLabel</code> are 
customziable:</p>

<ol>
<li><code>cellImageViewStyle</code>: display an icon, or index, or none.</li>
<li><code>isFileNamePriorThanURL</code>: display file name or its download URL.</li>
</ol>

                        <a href="Classes/DownloadTrackerCell.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="n">open</span> <span class="kd">class</span> <span class="kt">DownloadTrackerCell</span><span class="p">:</span> <span class="kt">UITableViewCell</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@SDEDownloadManager@objc(cs)DownloadListController"></a>
                    <a name="//apple_ref/swift/Class/DownloadListController" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@SDEDownloadManager@objc(cs)DownloadListController">DownloadListController</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>DownloadListController</code> is a UITableViewController subclass and is born to coordinate with
<code><a href="Classes/SDEDownloadManager.html">SDEDownloadManager</a></code> to manage download tasks and track download activity.</p>

<p>It has rich custom options:</p>

<ul>
<li><p>You can display the whole download list, or specified part by <code>displayContent</code>.
<img src="https://raw.githubusercontent.com/seedante/iOS-Note/master/SDEDownloadManager/DownloadListType.png" alt=""></p></li>
<li><p>All elements in the default cell <code><a href="Classes/DownloadTrackerCell.html">DownloadTrackerCell</a></code> are customizable.</p></li>
</ul>

<p>Of course, they are predefined and limited. If default cell can&rsquo;t satisfy your needs, you could
  use your custom UITableViewCell. More details in init method:
  <code>init(downloadManager:tableViewStyle:registerCellClasses:configureCell:)</code>.
  <img src="https://raw.githubusercontent.com/seedante/iOS-Note/master/SDEDownloadManager/CellTypeA.png" alt=""></p>

<ul>
<li><p>Adjust max download count by <code>adjustButtonItem</code>.
<img src="https://raw.githubusercontent.com/seedante/iOS-Note/master/SDEDownloadManager/PresentSliderAlertController.png" alt=""></p></li>
<li><p>Sort list by <code>sortButtonItem</code>.
<img src="https://raw.githubusercontent.com/seedante/iOS-Note/master/SDEDownloadManager/SortListInTwoModes.png" alt="">
<img src="https://raw.githubusercontent.com/seedante/iOS-Note/master/SDEDownloadManager/Demo.TwoModes.gif" alt=""></p></li>
<li><p>Custom task management features in cell swipe. All features are disabled by default.
Relative properties: <code>allowsStop</code>, <code>allowsDeletion</code>, <code>allowsRedownload</code>, <code>allowsRestoration</code>.</p></li>
<li><p>Support multiple selection. Task management features in multiple selection mode(also edit mode) could be
customed in <code>leftNavigationItemActions</code>. Multiple selection is disabled by default. Two way to
activate it:</p>

<ol>
<li>editButtonItem: enable <code>allowsEditingByEditButtonItem</code> to display editButtonItem at the right of
navigationBar, or put editButtonItem on somewhere directly.</li>
<li>long press gesture: enable <code>allowsEditingByLongPress</code>.</li>
</ol></li>
<li><p>Offer management features for all tasks on the toolbar. Disabled by default and enable it by
<code>allowsManagingAllTasksOnToolBar</code>. These features could be customed in <code>toolBarActions</code>.</p></li>
<li><p>Predefined UIBarButtonItem has two appearances: title or icon. Relative properties:
<code>barButtonAppearanceStyle</code>, <code>buttonIconFilled</code>.</p></li>
<li><p>Provide custom headerView in <code>headerViewProvider</code>.</p></li>
<li><p>Custom selection behavior by <code>didSelectCellHandler</code> and <code>didDeselectCellHandler</code>.</p></li>
</ul>

                        <a href="Classes/DownloadListController.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">@objcMembers</span> <span class="n">open</span> <span class="kd">class</span> <span class="kt">DownloadListController</span><span class="p">:</span> <span class="kt"><a href="Classes/SDETableViewController.html">SDETableViewController</a></span><span class="p">,</span> <span class="kt"><a href="Protocols/AccessoryButtonDelegate.html">AccessoryButtonDelegate</a></span><span class="p">,</span> <span class="kt">UIPopoverPresentationControllerDelegate</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@SDEDownloadManager@objc(cs)SliderAlertController"></a>
                    <a name="//apple_ref/swift/Class/SliderAlertController" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@SDEDownloadManager@objc(cs)SliderAlertController">SliderAlertController</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A UIViewController subclass like UIAlertController to display a slider.
<img src="https://raw.githubusercontent.com/seedante/iOS-Note/master/SDEDownloadManager/PresentSliderAlertController.png" alt=""></p>

                        <a href="Classes/SliderAlertController.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">SliderAlertController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">UIViewControllerTransitioningDelegate</span><span class="p">,</span> <span class="kt">UIViewControllerAnimatedTransitioning</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="https://github.com/seedante/SDEDownloadManager" target="_blank" rel="external">seedante</a>. All rights reserved. (Last updated: 2018-02-16)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
